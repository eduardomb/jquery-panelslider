(function(g){function t(b,c){var a=b.outerWidth(!0),f={},e={},d=b.data(),g=d.animate&&d.duration,n=d.animated&&p,k=d.pushContainer||q,h=b.add(k).add(q),l="static"==k.css("position");if(!(b.length&&b.hasClass(m)||r)){b.trigger("psBeforeOpen",[d]);r=!0;b.addClass(m).css({position:"fixed",top:0,height:"100%","z-index":999999});switch(d.side){case "left":b.css({left:"-"+a+"px",right:"auto"});l?f["margin-left"]="+="+a:"auto"==k.css("left")?f.right="-="+a:f.left="+="+a;e.left="+="+a;break;case "right":b.css({left:"auto",
right:"-"+a+"px"}),l?f["margin-left"]="-="+a:"auto"==k.css("right")?f.left="-="+a:f.right="+="+a,e.right="+="+a}a=function(a){r=!1;h.removeClass(v).addClass(w);b.trigger("psOpen",[d]);if("function"==typeof d.onOpen)d.onOpen();"function"==typeof c&&c.call(b,d)};b.show();h.removeClass(x+" "+w).addClass(v);n&&b[0].offsetWidth;(l=d.openClass)&&b.addClass(l);(l=d.openBodyClass||l)&&q.addClass(l);if(g)k.animate(f,d.duration,d.easingOpen),b.animate(e,d.duration,d.easingOpen,a);else if(k.css(f),b.css(e),
n)b.one(p,a);else setTimeout(a,16)}}function h(b){var c=e(n),a=c.outerWidth(!0),f={},g={},d=c.data(),h=d.duration,t=d.easingClose,k=d.openClass,u=d.openBodyClass||k,l=d.animate&&h,y=d.animated&&p,s=d.pushContainer||q,z=c.add(s).add(q),A="static"==s.css("position");if(c.length&&c.length&&c.hasClass(m)&&!r){c.trigger("psBeforeClose",[d]);y&&c[0].offsetWidth;k&&c.removeClass(k);r=!0;switch(c.data("side")){case "left":A?f["margin-left"]="-="+a:"auto"==s.css("left")?f.right="+="+a:f.left="-="+a;g.left=
"-="+a;break;case "right":A?f["margin-left"]="+="+a:"auto"==s.css("right")?f.left="+="+a:f.right="-="+a,g.right="-="+a}a=function(a){c.hide();c.removeClass(m);r=!1;u&&q.removeClass(u);z.removeClass(x);c.trigger("psClose",[d]);if("function"==typeof d.onClose)d.onClose();"function"==typeof b&&b.call(c,d)};z.removeClass(v+" "+w).addClass(x);if(l)c.animate(g,h,t),s.animate(f,h,t,a);else if(c.css(g),s.css(f),y)c.one(p,a);else setTimeout(a,16)}}function u(b,c){var a=b.data();if(!a.psInited){var a=e.extend({},
e.panelslider.defaults,c,a),f=a.pushContainer?e(a.pushContainer):q;a.pushContainer&&(a.pushContainer=f);var g=a.animatedClass&&b.hasClass(a.animatedClass);g&&(a.animated=!0);a.animated&&(a.animate=!1,!g&&a.animatedClass&&b.add(f).addClass(a.animatedClass));a.psInited=!0;b.data(a)}return a}var e=g.jQuery||g.Zepto;g=g.Modernizr;var p,w="ps-open",v="ps-in",x="ps-out",m="ps-active-panel",n="."+m,q=e("body"),r=!1;e.panelslider=function(b,c){var a=e(n);u(b,c);var f=a.length&&a.hasClass(m);f&&a[0]!=b[0]?
h(function(){t(b)}):a.length&&f||t(b)};e.panelslider.close=h;e.panelslider.defaults={side:"left",duration:200,clickClose:!0,openClass:null,openBodyClass:null,animatedClass:"ps-animated",animate:!0,animated:!1,pushContainer:null,onOpen:null,easingOpen:null,easingClose:null};e(document).on("click keyup",function(b){var c=e(n);("keyup"!=b.type||27==b.keyCode)&&c.length&&c.hasClass(m)&&c.data("clickClose")&&h()}).on("dblclick",function(b){b=e(n);b.length&&b.hasClass(m)&&h()}).on("click dblclick",n,function(b){b.stopPropagation()});
e.fn.panelslider=function(b){var c=e(b.context||this.attr("href"));u(c,b);this.off("click.panelslider").on("click.panelslider",function(a){a.preventDefault();a=e(n);var c=e(b.context||e(this).attr("href"));a.length&&a.hasClass(m)&&c[0]==a[0]?h():e.panelslider(c,b)});return this};g&&g.csstransitions&&("transition"in e.support||(e.support.transition={}),e.support.transition.end||(e.support.transition.end={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"}[g.prefixed("transition")]||
"transitionend"));(p=e.support.transition)&&(p=p.end)})(this);
